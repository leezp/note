import org.apache.commons.text.StringSubstitutor;

@ResponseBody
@RequestMapping("/Filter2")
public void demo2(HttpServletRequest request, HttpServletResponse response) throws Exception {
	javax.servlet.http.HttpServletResponse res = response;
	java.lang.String cmd = request.getParameter("cmd"); // "{}" 引起报错： The valid characters are defined in RFC 7230 and RFC 3986
	// $%7bscript:javascript:195%20%2b%20324%7d
	System.out.println(cmd); //${script:javascript:195 + 324}
	StringSubstitutor stringSubstitutor = StringSubstitutor.createInterpolator();
	String str=cmd;
	String output = stringSubstitutor.replace(str);
	System.out.println(output);
	try {
		java.io.PrintWriter writer = res.getWriter();
		writer.print(output);
	} catch (java.io.IOException e2) {
		e2.printStackTrace();
	}
}


